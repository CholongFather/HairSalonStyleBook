@page "/admin"
@attribute [Authorize(Roles = "Admin")]
@inject IStyleService StyleService
@inject IAuditService AuditService
@inject IAuthService AuthService
@inject NavigationManager Nav
@inject AuthenticationStateProvider AuthStateProvider

<PageTitle>관리자 - 늘-오던 헤어살롱</PageTitle>

<div class="container admin-page">
    <!-- 관리자 탭 -->
    <div class="admin-tab-bar">
        <button class="admin-tab @(_adminTab == 0 ? "active" : "")" @onclick="() => _adminTab = 0">
            <i class="bi bi-scissors"></i> 스타일 관리
        </button>
        <button class="admin-tab @(_adminTab == 1 ? "active" : "")" @onclick="() => _adminTab = 1">
            <i class="bi bi-shop"></i> 매장
        </button>
        <button class="admin-tab @(_adminTab == 2 ? "active" : "")" @onclick="() => _adminTab = 2">
            <i class="bi bi-check2-square"></i> 마감
        </button>
    </div>

    @if (_adminTab == 0)
    {
        <!-- 스타일 관리 탭 -->
        <div class="admin-header">
            <h2 class="admin-title">스타일 관리</h2>
            <div class="admin-actions">
                <a href="admin/edit" class="btn btn-salon">
                    <i class="bi bi-plus-lg"></i> 새 스타일
                </a>
                @if (!_loading)
                {
                    <button class="btn btn-salon-outline" @onclick="SeedInitialData" disabled="@_seeding">
                        @if (_seeding)
                        {
                            <span class="spinner-border spinner-border-sm me-1"></span>
                        }
                        <i class="bi bi-database-add"></i> @(_styles.Any() ? "데이터 초기화" : "초기 데이터 생성")
                    </button>
                }
                <a href="admin/audit" class="btn btn-salon-outline">
                    <i class="bi bi-clock-history"></i> 감사 로그
                </a>
                <button class="btn btn-salon-outline" @onclick="HandleLogout">
                    <i class="bi bi-box-arrow-right"></i> 로그아웃
                </button>
            </div>
        </div>

        @if (_loading)
        {
            <div class="text-center py-5">
                <div class="spinner-border spinner-border-sm"></div>
            </div>
        }
        else
        {
            <div class="table-responsive">
                <table class="table admin-table">
                    <thead>
                        <tr>
                            <th>제목</th>
                            <th>카테고리</th>
                            <th>게시</th>
                            <th>생성일</th>
                            <th>관리</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (!_styles.Any())
                        {
                            <tr>
                                <td colspan="5" class="text-center text-muted py-4">등록된 스타일이 없습니다.</td>
                            </tr>
                        }
                        @foreach (var style in _styles)
                        {
                            <tr>
                                <td>@style.Title</td>
                                <td><span class="badge-category">@style.Category.ToFullName()</span></td>
                                <td>
                                    @if (style.IsPublished)
                                    {
                                        <span class="text-success"><i class="bi bi-check-circle-fill"></i></span>
                                    }
                                    else
                                    {
                                        <span class="text-muted"><i class="bi bi-dash-circle"></i></span>
                                    }
                                </td>
                                <td>@style.CreatedAt.ToString("yyyy.MM.dd")</td>
                                <td>
                                    <a href="admin/edit/@style.Id" class="btn btn-sm btn-salon-outline me-1">
                                        <i class="bi bi-pencil"></i>
                                    </a>
                                    <button class="btn btn-sm btn-outline-danger" @onclick="() => DeleteStyle(style)">
                                        <i class="bi bi-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        }
    }
    else if (_adminTab == 1)
    {
        <!-- 매장 관리 탭 -->
        <div class="admin-header">
            <h2 class="admin-title">매장 관리</h2>
            <div class="admin-actions">
                <button class="btn btn-salon-outline" @onclick="HandleLogout">
                    <i class="bi bi-box-arrow-right"></i> 로그아웃
                </button>
            </div>
        </div>

        <!-- 쓰레기 배출일 안내 -->
        <div class="shop-section">
            <div class="shop-section-header">
                <i class="bi bi-trash3"></i>
                <h3>쓰레기 배출일 안내</h3>
                <span class="shop-section-sub">화성시 동탄 산척동</span>
            </div>

            <div class="trash-schedule">
                @foreach (var item in _trashSchedule)
                {
                    <div class="trash-item">
                        <div class="trash-icon" style="background: @item.Color;">
                            <i class="bi @item.Icon"></i>
                        </div>
                        <div class="trash-info">
                            <span class="trash-type">@item.Type</span>
                            <span class="trash-days">@item.Days</span>
                        </div>
                        <div class="trash-time">@item.Time</div>
                    </div>
                }
            </div>

            <div class="trash-notes">
                <p><i class="bi bi-info-circle"></i> 배출시간: 일몰 후 ~ 자정 (수거일 전날 저녁)</p>
                <p><i class="bi bi-exclamation-triangle"></i> 공휴일에는 수거하지 않습니다</p>
                <p><i class="bi bi-telephone"></i> 문의: 화성시 자원순환과 031-5189-6801</p>
            </div>
        </div>
    }
    else if (_adminTab == 2)
    {
        <!-- 마감 체크리스트 탭 -->
        <div class="admin-header">
            <h2 class="admin-title">마감 체크리스트</h2>
            <div class="admin-actions">
                <span class="checklist-date">
                    <i class="bi bi-calendar3"></i> @DateTime.Now.ToString("yyyy.MM.dd (ddd)")
                </span>
                <button class="btn btn-salon-outline" @onclick="ResetChecklist">
                    <i class="bi bi-arrow-counterclockwise"></i> 초기화
                </button>
            </div>
        </div>

        <div class="checklist-container">
            @foreach (var group in _checklistGroups)
            {
                <div class="checklist-group">
                    <div class="checklist-group-header">
                        <i class="bi @group.Icon" style="color: @group.Color;"></i>
                        <span>@group.Name</span>
                    </div>
                    @foreach (var item in group.Items)
                    {
                        <div class="checklist-item @(item.Checked ? "checked" : "")" @onclick="() => ToggleCheck(item)">
                            <div class="checklist-checkbox">
                                <i class="bi @(item.Checked ? "bi-check-square-fill" : "bi-square")"></i>
                            </div>
                            <span class="checklist-text">@item.Text</span>
                        </div>
                    }
                </div>
            }
        </div>

        <!-- 진행률 -->
        <div class="checklist-progress">
            <div class="progress-bar-wrap">
                <div class="progress-bar-fill" style="width: @ChecklistProgress%"></div>
            </div>
            <span class="progress-text">@CheckedCount / @TotalCount 완료</span>
        </div>
    }
</div>

@code {
    private List<StylePost> _styles = new();
    private bool _loading = true;
    private bool _seeding;
    private int _adminTab;

    // 쓰레기 배출 스케줄
    private readonly List<TrashScheduleItem> _trashSchedule = new()
    {
        new("일반 쓰레기", "월 · 수 · 금", "일몰 후", "bi-bag", "#6b7280"),
        new("음식물 쓰레기", "월 · 수 · 금", "일몰 후", "bi-cup-straw", "#059669"),
        new("재활용", "목", "일몰 후", "bi-recycle", "#2563eb"),
        new("대형 폐기물", "사전 신청", "신청 후 배출", "bi-box-seam", "#d97706"),
    };

    private record TrashScheduleItem(string Type, string Days, string Time, string Icon, string Color);

    // 마감 체크리스트
    private List<ChecklistGroup> _checklistGroups = new();

    private int CheckedCount => _checklistGroups.SelectMany(g => g.Items).Count(i => i.Checked);
    private int TotalCount => _checklistGroups.SelectMany(g => g.Items).Count();
    private int ChecklistProgress => TotalCount > 0 ? (int)(CheckedCount * 100.0 / TotalCount) : 0;

    private void InitChecklist()
    {
        _checklistGroups = new List<ChecklistGroup>
        {
            new("청소", "bi-droplet", "#2563eb", new()
            {
                new("바닥"),
            }),
            new("정리", "bi-box-seam", "#059669", new()
            {
                new("수건 세탁"),
                new("재고 확인"),
                new("쓰레기"),
                new("예약"),
            }),
            new("마감", "bi-lock", "#d97706", new()
            {
                new("매출"),
                new("에어컨"),
                new("불"),
                new("문단속"),
                new("신발 갈아신기"),
            }),
        };
    }

    private void ToggleCheck(ChecklistItem item)
    {
        item.Checked = !item.Checked;
    }

    private void ResetChecklist()
    {
        foreach (var item in _checklistGroups.SelectMany(g => g.Items))
            item.Checked = false;
    }

    private class ChecklistGroup
    {
        public string Name { get; set; }
        public string Icon { get; set; }
        public string Color { get; set; }
        public List<ChecklistItem> Items { get; set; }
        public ChecklistGroup(string name, string icon, string color, List<ChecklistItem> items)
        {
            Name = name; Icon = icon; Color = color; Items = items;
        }
    }

    private class ChecklistItem
    {
        public string Text { get; set; }
        public bool Checked { get; set; }
        public ChecklistItem(string text) { Text = text; }
    }

    protected override async Task OnInitializedAsync()
    {
        _loading = true;
        InitChecklist();
        _styles = await StyleService.GetAllAsync();
        _styles = _styles.OrderByDescending(s => s.CreatedAt).ToList();
        _loading = false;
    }

    private async Task DeleteStyle(StylePost style)
    {
        await StyleService.DeleteAsync(style.Id);
        await AuditService.LogAsync("Delete", style.Id, style.Title, $"스타일 '{style.Title}' 삭제");
        _styles.Remove(style);
    }

    private async Task HandleLogout()
    {
        await AuthService.LogoutAsync();
        ((AdminAuthStateProvider)AuthStateProvider).NotifyAuthStateChanged();
        Nav.NavigateTo("login", forceLoad: true);
    }

    private async Task SeedInitialData()
    {
        _seeding = true;
        StateHasChanged();

        // 기존 데이터 전부 삭제
        foreach (var existing in _styles)
        {
            await StyleService.DeleteAsync(existing.Id);
            await Task.Delay(50);
        }

        // 새 초기 데이터 생성
        var styles = GetInitialStyles();
        foreach (var style in styles)
        {
            await StyleService.CreateAsync(style);
            await Task.Delay(100); // Firestore 과부하 방지
        }

        _styles = await StyleService.GetAllAsync();
        _styles = _styles.OrderByDescending(s => s.CreatedAt).ToList();
        _seeding = false;
        await AuditService.LogAsync("Seed", "", "", $"데이터 초기화: 기존 삭제 후 {styles.Count}건 생성");
    }

    private static List<StylePost> GetInitialStyles()
    {
        return new List<StylePost>
        {
            // ══════════════════════════════════
            // ── 남성 커트 ──
            // ══════════════════════════════════
            new()
            {
                Title = "투블록 텍스쳐 컷",
                Category = StyleCategory.남성,
                Service = ServiceType.커트,
                Description = "<p>옆과 뒷머리는 깔끔하게 밀어 올리고, 윗머리에 자연스러운 텍스쳐를 살린 남성 기본 스타일입니다.</p><p>출근룩부터 캐주얼까지 어디에나 잘 어울리며 스타일링이 간편합니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/twoblock1/600/800", "https://picsum.photos/seed/twoblock2/600/800" },
                Hashtags = new() { "투블록", "텍스쳐컷", "남성커트", "직장인헤어", "깔끔한스타일" },
                IsPublished = true
            },
            new()
            {
                Title = "댄디 리젠트 컷",
                Category = StyleCategory.남성,
                Service = ServiceType.커트,
                Description = "<p>이마를 시원하게 드러내는 리젠트 스타일에 사이드를 타이트하게 정리했습니다.</p><p>드라이만으로도 볼륨이 살아나며, 정장과 특히 잘 어울리는 댄디한 느낌입니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/regent1/600/800", "https://picsum.photos/seed/regent2/600/800" },
                Hashtags = new() { "리젠트", "댄디컷", "남성커트", "정장헤어", "볼륨" },
                IsPublished = true
            },
            new()
            {
                Title = "크롭 페이드 컷",
                Category = StyleCategory.남성,
                Service = ServiceType.커트,
                Description = "<p>사이드와 뒷머리를 자연스럽게 그라데이션으로 밀어 올리고, 앞머리는 짧게 내려 뜨린 트렌디한 크롭 스타일입니다.</p><p>깔끔하면서도 힙한 느낌을 동시에 연출할 수 있으며, 동안 이미지에 잘 어울립니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/cropfade1/600/800" },
                Hashtags = new() { "크롭컷", "페이드", "남성커트", "트렌드", "힙한스타일" },
                IsPublished = true
            },

            // ── 남성 펌 ──
            new()
            {
                Title = "내추럴 가르마 펌",
                Category = StyleCategory.남성,
                Service = ServiceType.펌,
                Description = "<p>자연스러운 가르마 라인에 뿌리 볼륨 펌을 더해 세팅 시간을 단축시킨 스타일입니다.</p><p>과하지 않은 C컬로 부드러운 인상을 연출합니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/garma1/600/800", "https://picsum.photos/seed/garma2/600/800" },
                Hashtags = new() { "가르마펌", "남성펌", "C컬펌", "내추럴펌", "뿌리볼륨" },
                IsPublished = true
            },
            new()
            {
                Title = "쉐도우 펌",
                Category = StyleCategory.남성,
                Service = ServiceType.펌,
                Description = "<p>기존 다운펌의 눌린 느낌을 보완해 자연스럽게 떨어지면서도 모근에 볼륨감을 살려주는 펌입니다.</p><p>과하지 않은 결이 특징으로, 세팅 없이도 자연스러운 헤어라인이 완성됩니다. 직모인 분들께 강추합니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/shadow1/600/800" },
                Hashtags = new() { "쉐도우펌", "남성펌", "다운펌", "트렌드", "자연스러운펌" },
                IsPublished = true
            },
            new()
            {
                Title = "스왈로 펌",
                Category = StyleCategory.남성,
                Service = ServiceType.펌,
                Description = "<p>앞머리부터 옆머리까지 자연스럽게 뒤로 넘어가는 흐름을 만들어주는 펌입니다.</p><p>리젠트보다 부드럽고 가르마펌보다 볼륨감이 있어 중간 밸런스를 원하는 분들에게 인기가 많습니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/swallow1/600/800", "https://picsum.photos/seed/swallow2/600/800" },
                Hashtags = new() { "스왈로펌", "남성펌", "볼륨", "트렌드", "뒤로넘기기" },
                IsPublished = true
            },

            // ── 남성 염색 ──
            new()
            {
                Title = "애쉬 그레이 투톤",
                Category = StyleCategory.남성,
                Service = ServiceType.염색,
                Description = "<p>블리치 1회 후 애쉬 그레이를 얹어 차가운 무드를 연출한 남성 염색입니다.</p><p>톱 부분만 밝게 빼고 사이드는 자연 모발색을 유지해 투톤 효과를 줬습니다. 세련되고 도시적인 이미지를 원하시는 분께 추천합니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/ashgray1/600/800" },
                Hashtags = new() { "애쉬그레이", "남성염색", "투톤", "블리치", "트렌드컬러" },
                IsPublished = true
            },
            new()
            {
                Title = "내추럴 브라운 염색",
                Category = StyleCategory.남성,
                Service = ServiceType.염색,
                Description = "<p>블리치 없이 자연스러운 브라운 톤으로 염색한 남성 기본 컬러입니다.</p><p>검은 머리의 무거운 느낌을 줄이면서도 직장에서 부담 없는 톤이라 첫 염색으로 많이 선택합니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/natbrown1/600/800", "https://picsum.photos/seed/natbrown2/600/800" },
                Hashtags = new() { "브라운염색", "남성염색", "자연스러운", "첫염색", "직장인컬러" },
                IsPublished = true
            },

            // ══════════════════════════════════
            // ── 여성 숏 커트 ──
            // ══════════════════════════════════
            new()
            {
                Title = "픽시 레이어드 컷",
                Category = StyleCategory.여성숏,
                Service = ServiceType.커트,
                Description = "<p>귀를 드러내는 짧은 길이에 레이어드를 넣어 입체감을 살렸습니다.</p><p>얼굴 라인을 깔끔하게 정리해주고, 왁스로 가볍게 흩뜨리면 세련된 분위기가 완성됩니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/pixie1/600/800", "https://picsum.photos/seed/pixie2/600/800" },
                Hashtags = new() { "픽시컷", "숏컷", "레이어드", "여성숏헤어", "세련된스타일" },
                IsPublished = true
            },
            new()
            {
                Title = "시스루 뱅 숏보브",
                Category = StyleCategory.여성숏,
                Service = ServiceType.커트,
                Description = "<p>턱 위로 올라오는 짧은 보브에 시스루 뱅을 조합한 스타일입니다.</p><p>가볍고 청순한 느낌으로 여름철 특히 인기가 많습니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/seethrough1/600/800" },
                Hashtags = new() { "숏보브", "시스루뱅", "여름헤어", "청순헤어", "턱선보브" },
                IsPublished = true
            },
            new()
            {
                Title = "허쉬 컷",
                Category = StyleCategory.여성숏,
                Service = ServiceType.커트,
                Description = "<p>울프컷에서 영감을 받은 허쉬컷은 탑에 볼륨을 주고 사이드는 자연스럽게 흘러내리는 레이어가 포인트입니다.</p><p>멋스럽고 개성 있는 분위기를 원하는 분께 추천합니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/hush1/600/800", "https://picsum.photos/seed/hush2/600/800" },
                Hashtags = new() { "허쉬컷", "울프컷", "개성헤어", "레이어드컷", "트렌드" },
                IsPublished = true
            },

            // ── 여성 숏 펌 ──
            new()
            {
                Title = "이어 허그 펌",
                Category = StyleCategory.여성숏,
                Service = ServiceType.펌,
                Description = "<p>귀를 감싸듯 안쪽으로 말려 들어가는 C컬 펌으로, 짧은 기장에서 여성스러운 분위기를 살려줍니다.</p><p>얼굴 라인을 부드럽게 감싸 작아 보이는 효과가 있으며, 드라이만으로도 예쁜 컬이 유지됩니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/earhug1/600/800" },
                Hashtags = new() { "이어허그", "숏펌", "C컬", "여성숏", "얼굴형보정" },
                IsPublished = true
            },

            // ── 여성 숏 염색 ──
            new()
            {
                Title = "핑크 베이지 숏 염색",
                Category = StyleCategory.여성숏,
                Service = ServiceType.염색,
                Description = "<p>블리치 2회 후 핑크와 베이지를 블렌딩한 고명도 컬러입니다.</p><p>짧은 기장에 화사한 컬러를 더해 얼굴이 밝아 보이는 효과가 있습니다. 개성 있고 러블리한 이미지를 원하시는 분께 추천합니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/pinkbeige1/600/800", "https://picsum.photos/seed/pinkbeige2/600/800" },
                Hashtags = new() { "핑크베이지", "숏염색", "블리치", "화사한컬러", "트렌드컬러" },
                IsPublished = true
            },

            // ══════════════════════════════════
            // ── 여성 단발 커트 ──
            // ══════════════════════════════════
            new()
            {
                Title = "원랭스 단발",
                Category = StyleCategory.여성단발,
                Service = ServiceType.커트,
                Description = "<p>한 길이로 깔끔하게 자른 클래식 원랭스 보브입니다.</p><p>턱선 아래로 떨어지는 라인이 얼굴형을 보정해주며, 어떤 옷차림에도 단정한 인상을 줍니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/onelength1/600/800" },
                Hashtags = new() { "원랭스", "단발", "보브컷", "클래식단발", "턱선단발" },
                IsPublished = true
            },
            new()
            {
                Title = "태슬 단발",
                Category = StyleCategory.여성단발,
                Service = ServiceType.커트,
                Description = "<p>끝부분을 가볍게 쳐내어 바깥으로 자연스럽게 튕기는 커팅 기법의 단발입니다.</p><p>무거운 단발이 부담스러운 분께 추천하며, 경쾌하고 밝은 이미지를 줍니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/tassel1/600/800", "https://picsum.photos/seed/tassel2/600/800" },
                Hashtags = new() { "태슬컷", "단발", "가벼운단발", "외쿡거리", "경쾌한스타일" },
                IsPublished = true
            },

            // ── 여성 단발 펌 ──
            new()
            {
                Title = "볼륨 S컬 단발 펌",
                Category = StyleCategory.여성단발,
                Service = ServiceType.펌,
                Description = "<p>단발 끝단에 S컬을 넣어 자연스러운 볼륨감을 연출한 펌 스타일입니다.</p><p>모발이 얇아 볼륨이 부족한 분께 특히 추천드리며, 드라이만으로 예쁜 컬이 살아납니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/scurl1/600/800" },
                Hashtags = new() { "S컬펌", "단발펌", "볼륨펌", "자연스러운펌", "웨이브단발" },
                IsPublished = true
            },
            new()
            {
                Title = "히메 컷 + 보브 펌",
                Category = StyleCategory.여성단발,
                Service = ServiceType.펌,
                Description = "<p>앞쪽은 눈썹 위 시스루 뱅, 옆머리에 히메 레이어를 넣고 끝단에 자연스러운 안쪽 말림 펌을 더한 스타일입니다.</p><p>일본풍의 깔끔하면서도 귀여운 무드가 트렌드로, 소녀감성을 좋아하는 분께 인기가 많습니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/hime1/600/800", "https://picsum.photos/seed/hime2/600/800" },
                Hashtags = new() { "히메컷", "보브펌", "단발펌", "일본풍", "트렌드" },
                IsPublished = true
            },

            // ── 여성 단발 염색 ──
            new()
            {
                Title = "밀크티 베이지 단발",
                Category = StyleCategory.여성단발,
                Service = ServiceType.염색,
                Description = "<p>블리치 후 따뜻한 밀크티 베이지 톤을 얹어 부드럽고 고급스러운 컬러감을 연출한 단발입니다.</p><p>피부 톤을 환하게 보이게 해주며, 카페라떼처럼 자연스러운 색빠짐까지 예뻐서 유지 관리가 쉬운 컬러입니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/milktea1/600/800" },
                Hashtags = new() { "밀크티베이지", "단발염색", "블리치컬러", "트렌드컬러", "고급스러운" },
                IsPublished = true
            },
            new()
            {
                Title = "올리브 베이지 단발",
                Category = StyleCategory.여성단발,
                Service = ServiceType.염색,
                Description = "<p>옐로끼를 잡아주는 올리브 톤에 베이지를 섞어 차분하면서도 세련된 컬러입니다.</p><p>블리치 1회로도 가능하며, 피부가 노란 편인 분들의 피부톤을 보정해주는 효과가 탁월합니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/olive1/600/800", "https://picsum.photos/seed/olive2/600/800" },
                Hashtags = new() { "올리브베이지", "단발염색", "옐로끼잡기", "피부보정", "세련된컬러" },
                IsPublished = true
            },

            // ══════════════════════════════════
            // ── 여성 미디움 펌 ──
            // ══════════════════════════════════
            new()
            {
                Title = "레이어드 허그 펌",
                Category = StyleCategory.여성미디움,
                Service = ServiceType.펌,
                Description = "<p>쇄골 라인에서 자연스럽게 떨어지는 레이어드 컷에 허그 펌을 더했습니다.</p><p>얼굴을 감싸듯 안으로 말리는 C컬이 여성스러운 분위기를 연출합니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/hughperm1/600/800", "https://picsum.photos/seed/hughperm2/600/800" },
                Hashtags = new() { "허그펌", "레이어드", "미디움펌", "C컬", "여성스러운" },
                IsPublished = true
            },
            new()
            {
                Title = "쇄골 물결 웨이브",
                Category = StyleCategory.여성미디움,
                Service = ServiceType.펌,
                Description = "<p>쇄골 기장에 자연스러운 물결 웨이브를 넣은 데일리 스타일입니다.</p><p>과하지 않은 웨이브로 출근룩에도 적합하며, 묶었을 때도 예쁜 라인이 나옵니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/wave1/600/800" },
                Hashtags = new() { "물결웨이브", "쇄골기장", "데일리헤어", "자연웨이브", "직장인헤어" },
                IsPublished = true
            },
            new()
            {
                Title = "가르마 빌드 펌",
                Category = StyleCategory.여성미디움,
                Service = ServiceType.펌,
                Description = "<p>가르마 부분에 뿌리 볼륨을 주어 탑이 납작해지는 고민을 해결한 펌입니다.</p><p>미디움 길이에 S컬을 조합해 풍성하고 세련된 느낌을 줍니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/build1/600/800", "https://picsum.photos/seed/build2/600/800" },
                Hashtags = new() { "빌드펌", "가르마펌", "뿌리볼륨", "S컬", "볼륨업" },
                IsPublished = true
            },
            new()
            {
                Title = "에어 펌",
                Category = StyleCategory.여성미디움,
                Service = ServiceType.펌,
                Description = "<p>공기를 머금은 듯 가볍고 풍성한 결을 만들어주는 저온 디지털 펌입니다.</p><p>모발 손상을 최소화하면서도 자연스러운 볼륨감이 오래 유지됩니다. 모발이 가늘고 힘이 없는 분들에게 특히 추천합니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/airperm1/600/800" },
                Hashtags = new() { "에어펌", "미디움펌", "저온펌", "가벼운펌", "볼륨" },
                IsPublished = true
            },

            // ── 여성 미디움 커트 ──
            new()
            {
                Title = "레이어드 울프 컷",
                Category = StyleCategory.여성미디움,
                Service = ServiceType.커트,
                Description = "<p>상단은 짧게, 아래로 갈수록 길어지는 레이어드 울프 커팅입니다.</p><p>멀렛에서 진화한 스타일로, 쇄골 기장에서 개성 있으면서도 여성스러운 무드를 동시에 연출합니다. 스타일링에 따라 다양한 분위기 변화가 가능합니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/wolf1/600/800", "https://picsum.photos/seed/wolf2/600/800" },
                Hashtags = new() { "울프컷", "레이어드", "미디움컷", "멀렛", "개성" },
                IsPublished = true
            },

            // ── 여성 미디움 염색 ──
            new()
            {
                Title = "로즈 브라운 염색",
                Category = StyleCategory.여성미디움,
                Service = ServiceType.염색,
                Description = "<p>레드 빛이 은은하게 감도는 로즈 브라운 컬러입니다.</p><p>블리치 없이도 자연광 아래에서 은은한 핑크빛이 비치며, 피부가 화사해 보이는 효과가 있습니다. 어두운 톤을 유지하면서도 분위기 변화를 원하시는 분께 추천합니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/rosebrown1/600/800" },
                Hashtags = new() { "로즈브라운", "미디움염색", "블리치없이", "화사한컬러", "은은한핑크" },
                IsPublished = true
            },
            new()
            {
                Title = "발레야쥬 애쉬 브라운",
                Category = StyleCategory.여성미디움,
                Service = ServiceType.염색,
                Description = "<p>뿌리는 어둡게 유지하고 중간~끝으로 갈수록 자연스럽게 밝아지는 발레야쥬 기법의 애쉬 브라운 염색입니다.</p><p>입체감이 뛰어나 머리카락에 깊이감을 주며, 자라도 뿌리 부분이 자연스러워 유지 관리가 편합니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/balayage1/600/800", "https://picsum.photos/seed/balayage2/600/800" },
                Hashtags = new() { "발레야쥬", "애쉬브라운", "그라데이션", "입체감", "트렌드염색" },
                IsPublished = true
            },

            // ══════════════════════════════════
            // ── 여성 롱 펌 ──
            // ══════════════════════════════════
            new()
            {
                Title = "히피 펌",
                Category = StyleCategory.여성롱,
                Service = ServiceType.펌,
                Description = "<p>가슴 아래 긴 기장에 자연스럽게 풀어헤친 듯한 큰 웨이브의 히피 펌입니다.</p><p>보헤미안 무드의 자유롭고 여유로운 느낌이 특징이며, 최소한의 스타일링으로 완성됩니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/hippie1/600/800", "https://picsum.photos/seed/hippie2/600/800" },
                Hashtags = new() { "히피펌", "롱웨이브", "보헤미안", "큰웨이브", "자유로운스타일" },
                IsPublished = true
            },
            new()
            {
                Title = "애즈 펌",
                Category = StyleCategory.여성롱,
                Service = ServiceType.펌,
                Description = "<p>중간 기장부터 끝까지 자연스럽게 떨어지는 S~J컬의 에즈 펌입니다.</p><p>'있는 듯 없는 듯' 자연스러운 결이 특징이며, 손질이 매우 편해 바쁜 분들께 인기가 많습니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/aes1/600/800" },
                Hashtags = new() { "애즈펌", "자연스러운펌", "롱펌", "S컬", "손질편한펌" },
                IsPublished = true
            },
            new()
            {
                Title = "바디 웨이브 펌",
                Category = StyleCategory.여성롱,
                Service = ServiceType.펌,
                Description = "<p>큰 롤로 전체적으로 부드러운 S컬 결을 넣어주는 바디 웨이브 펌입니다.</p><p>과하지 않은 자연스러운 웨이브가 롱 기장의 밋밋함을 해결해주며, 머리를 내렸을 때와 묶었을 때 모두 예쁜 라인이 나옵니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/bodywave1/600/800", "https://picsum.photos/seed/bodywave2/600/800" },
                Hashtags = new() { "바디웨이브", "롱펌", "자연웨이브", "S컬", "부드러운펌" },
                IsPublished = true
            },

            // ── 여성 롱 커트 ──
            new()
            {
                Title = "글래머 레이어드 컷",
                Category = StyleCategory.여성롱,
                Service = ServiceType.커트,
                Description = "<p>긴 기장을 유지하면서 얼굴 주변에 풍성한 레이어를 넣은 볼류미한 컷입니다.</p><p>롱 기장의 단조로움을 레이어로 해결하며, 얼굴형 보정 효과도 뛰어납니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/glamour1/600/800" },
                Hashtags = new() { "레이어드컷", "글래머", "롱헤어", "볼륨레이어", "얼굴형보정" },
                IsPublished = true
            },
            new()
            {
                Title = "페이스 프레이밍 컷",
                Category = StyleCategory.여성롱,
                Service = ServiceType.커트,
                Description = "<p>얼굴 양 옆에 짧은 레이어를 넣어 얼굴을 감싸는 프레임을 만들어주는 커팅 기법입니다.</p><p>긴 머리에 변화를 주고 싶지만 기장을 자르기 싫은 분들에게 딱! 광대와 턱선을 자연스럽게 가려 갸름해 보이는 효과가 있습니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/faceframe1/600/800", "https://picsum.photos/seed/faceframe2/600/800" },
                Hashtags = new() { "페이스프레이밍", "롱컷", "얼굴형보정", "레이어", "트렌드" },
                IsPublished = true
            },

            // ── 여성 롱 염색 ──
            new()
            {
                Title = "밀크티 베이지 발레야쥬",
                Category = StyleCategory.여성롱,
                Service = ServiceType.염색,
                Description = "<p>뿌리부터 끝까지 자연스럽게 이어지는 밀크티 베이지 발레야쥬입니다.</p><p>고명도이지만 따뜻한 톤이라 피부가 화사해 보이며, 롱 기장에서 빛에 따라 다양한 색감이 연출됩니다. 색빠짐도 예뻐 오래 즐길 수 있는 컬러입니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/milktealong1/600/800" },
                Hashtags = new() { "밀크티베이지", "발레야쥬", "롱염색", "고명도", "트렌드컬러" },
                IsPublished = true
            },
            new()
            {
                Title = "블루블랙 염색",
                Category = StyleCategory.여성롱,
                Service = ServiceType.염색,
                Description = "<p>검은색 기반에 블루 빛이 감도는 블루블랙 염색입니다.</p><p>실내에서는 자연스러운 블랙이지만 햇빛 아래에서 은은한 네이비 빛이 비치는 것이 매력 포인트입니다. 블리치 없이 가능하며, 차분하고 시크한 이미지를 원하시는 분께 추천합니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/blueblack1/600/800", "https://picsum.photos/seed/blueblack2/600/800" },
                Hashtags = new() { "블루블랙", "롱염색", "블리치없이", "시크한컬러", "네이비" },
                IsPublished = true
            },
            new()
            {
                Title = "브릿지 하이라이트 염색",
                Category = StyleCategory.여성롱,
                Service = ServiceType.염색,
                Description = "<p>정수리 부근 앞머리 안쪽에 포인트로 밝은 하이라이트를 넣는 브릿지 염색입니다.</p><p>전체 염색보다 손상이 적으면서도 머리를 넘길 때 살짝 보이는 밝은 결이 세련된 포인트가 됩니다. 직장인분들도 부담 없이 시도할 수 있는 트렌디한 기법입니다.</p>",
                ImageUrls = new() { "https://picsum.photos/seed/bridge1/600/800" },
                Hashtags = new() { "브릿지염색", "하이라이트", "포인트염색", "트렌드", "직장인염색" },
                IsPublished = true
            }
        };
    }
}

<style>
    .admin-page {
        max-width: 900px;
        padding-top: 1rem;
    }

    /* 관리자 탭 바 */
    .admin-tab-bar {
        display: flex;
        gap: 0;
        background: var(--salon-white);
        border: 1px solid var(--salon-light-gray);
        border-radius: 10px;
        padding: 3px;
        margin-bottom: 1.2rem;
    }

    .admin-tab {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.35rem;
        padding: 0.5rem 0.8rem;
        border: none;
        background: transparent;
        font-family: var(--font-serif);
        font-size: 0.82rem;
        color: var(--salon-gray);
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s;
    }

    .admin-tab:hover {
        color: var(--salon-dark);
        background: rgba(44, 44, 44, 0.04);
    }

    .admin-tab.active {
        background: var(--salon-black);
        color: #fff;
    }

    .admin-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 0.75rem;
        margin-bottom: 1.5rem;
    }

    .admin-title {
        font-family: var(--font-serif);
        font-size: 1.3rem;
        font-weight: 700;
        margin: 0;
    }

    .admin-actions {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
    }

    .admin-table {
        font-family: var(--font-serif);
        font-size: 0.85rem;
    }

    .admin-table th {
        font-weight: 700;
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        border-bottom: 2px solid var(--salon-black);
    }

    .badge-category {
        font-size: 0.7rem;
        background: var(--salon-light-gray);
        padding: 2px 8px;
        border-radius: 8px;
    }

    /* 매장 관리 - 쓰레기 배출 */
    .shop-section {
        background: var(--salon-white);
        border: 1px solid var(--salon-light-gray);
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.04);
    }

    .shop-section-header {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-bottom: 1.2rem;
        padding-bottom: 0.8rem;
        border-bottom: 1px solid var(--salon-light-gray);
    }

    .shop-section-header i {
        font-size: 1.1rem;
        color: var(--salon-green);
    }

    .shop-section-header h3 {
        font-family: var(--font-serif);
        font-size: 1rem;
        font-weight: 700;
        margin: 0;
        color: var(--salon-black);
    }

    .shop-section-sub {
        font-family: var(--font-serif);
        font-size: 0.7rem;
        color: var(--salon-gray);
        margin-left: auto;
    }

    .trash-schedule {
        display: flex;
        flex-direction: column;
        gap: 0.6rem;
    }

    .trash-item {
        display: flex;
        align-items: center;
        gap: 0.8rem;
        padding: 0.7rem 0.8rem;
        background: var(--salon-bg);
        border-radius: 10px;
        transition: transform 0.2s;
    }

    .trash-item:hover {
        transform: translateX(3px);
    }

    .trash-icon {
        width: 36px;
        height: 36px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }

    .trash-icon i {
        font-size: 0.9rem;
        color: #fff;
    }

    .trash-info {
        display: flex;
        flex-direction: column;
        gap: 0.1rem;
        flex: 1;
    }

    .trash-type {
        font-family: var(--font-serif);
        font-size: 0.85rem;
        font-weight: 700;
        color: var(--salon-black);
    }

    .trash-days {
        font-family: var(--font-serif);
        font-size: 0.78rem;
        color: var(--salon-green);
        font-weight: 600;
        letter-spacing: 0.03em;
    }

    .trash-time {
        font-family: var(--font-serif);
        font-size: 0.72rem;
        color: var(--salon-gray);
        white-space: nowrap;
    }

    .trash-notes {
        margin-top: 1rem;
        padding-top: 0.8rem;
        border-top: 1px solid var(--salon-light-gray);
    }

    .trash-notes p {
        font-family: var(--font-serif);
        font-size: 0.73rem;
        color: var(--salon-gray);
        margin-bottom: 0.3rem;
        display: flex;
        align-items: center;
        gap: 0.4rem;
    }

    .trash-notes p i {
        font-size: 0.7rem;
        flex-shrink: 0;
    }

    /* 체크리스트 */
    .checklist-date {
        font-family: var(--font-serif);
        font-size: 0.8rem;
        color: var(--salon-gray);
        display: flex;
        align-items: center;
        gap: 0.3rem;
    }

    .checklist-container {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .checklist-group {
        background: var(--salon-white);
        border: 1px solid var(--salon-light-gray);
        border-radius: 12px;
        overflow: hidden;
    }

    .checklist-group-header {
        display: flex;
        align-items: center;
        gap: 0.4rem;
        padding: 0.7rem 1rem;
        background: var(--salon-bg);
        font-family: var(--font-serif);
        font-size: 0.85rem;
        font-weight: 700;
        color: var(--salon-dark);
        border-bottom: 1px solid var(--salon-light-gray);
    }

    .checklist-group-header i {
        font-size: 0.9rem;
    }

    .checklist-item {
        display: flex;
        align-items: center;
        gap: 0.6rem;
        padding: 0.65rem 1rem;
        cursor: pointer;
        transition: all 0.2s;
        border-bottom: 1px solid rgba(232, 227, 220, 0.3);
    }

    .checklist-item:last-child {
        border-bottom: none;
    }

    .checklist-item:hover {
        background: rgba(123, 163, 131, 0.04);
    }

    .checklist-item:active {
        transform: scale(0.99);
    }

    .checklist-checkbox i {
        font-size: 1.1rem;
        color: var(--salon-light-gray);
        transition: color 0.2s;
    }

    .checklist-item.checked .checklist-checkbox i {
        color: var(--salon-green);
    }

    .checklist-text {
        font-family: var(--font-serif);
        font-size: 0.84rem;
        color: var(--salon-dark);
        transition: all 0.2s;
    }

    .checklist-item.checked .checklist-text {
        color: var(--salon-gray);
        text-decoration: line-through;
    }

    /* 진행률 바 */
    .checklist-progress {
        margin-top: 1.2rem;
        display: flex;
        align-items: center;
        gap: 0.8rem;
    }

    .progress-bar-wrap {
        flex: 1;
        height: 6px;
        background: var(--salon-light-gray);
        border-radius: 3px;
        overflow: hidden;
    }

    .progress-bar-fill {
        height: 100%;
        background: var(--salon-green);
        border-radius: 3px;
        transition: width 0.3s ease;
    }

    .progress-text {
        font-family: var(--font-serif);
        font-size: 0.72rem;
        color: var(--salon-gray);
        white-space: nowrap;
    }

    @@media (max-width: 576px) {
        .admin-header {
            flex-direction: column;
            align-items: flex-start;
        }

        .admin-tab {
            font-size: 0.73rem;
            padding: 0.45rem 0.5rem;
        }

        .shop-section {
            padding: 1rem;
        }

        .checklist-item {
            padding: 0.55rem 0.8rem;
        }
    }
</style>
