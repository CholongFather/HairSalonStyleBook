@inject IJSRuntime JS

<div id="@_carouselId" class="carousel slide salon-carousel" data-bs-ride="false">
    @if (ImageUrls.Count > 1)
    {
        <div class="carousel-indicators">
            @for (int i = 0; i < ImageUrls.Count; i++)
            {
                var index = i;
                <button type="button"
                        data-bs-target="#@_carouselId"
                        data-bs-slide-to="@index"
                        class="@(index == 0 ? "active" : "")"
                        aria-label="슬라이드 @(index + 1)"></button>
            }
        </div>
    }
    <div class="carousel-inner">
        @for (int i = 0; i < ImageUrls.Count; i++)
        {
            <div class="carousel-item @(i == 0 ? "active" : "")">
                <img src="@ImageUrls[i]" class="d-block w-100" alt="스타일 사진 @(i + 1)" />
            </div>
        }
        @if (ImageUrls.Count == 0)
        {
            <div class="carousel-item active">
                <div class="carousel-placeholder">
                    <i class="bi bi-image"></i>
                    <p>사진이 없습니다</p>
                </div>
            </div>
        }
    </div>
    @if (ImageUrls.Count > 1)
    {
        <button class="carousel-control-prev" type="button" data-bs-target="#@_carouselId" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#@_carouselId" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
        </button>
    }
</div>

@code {
    [Parameter] public List<string> ImageUrls { get; set; } = new();

    private string _carouselId = $"carousel-{Guid.NewGuid():N}"[..16];
}

<style>
    .salon-carousel {
        max-width: 600px;
        margin: 1.5rem auto;
        background: #f5f5f5;
    }

    .salon-carousel .carousel-item img {
        aspect-ratio: 3 / 4;
        object-fit: cover;
    }

    .salon-carousel .carousel-control-prev-icon,
    .salon-carousel .carousel-control-next-icon {
        background-color: rgba(0, 0, 0, 0.5);
        border-radius: 50%;
        padding: 1rem;
    }

    .salon-carousel .carousel-indicators button {
        background-color: var(--salon-black);
    }

    .carousel-placeholder {
        aspect-ratio: 3 / 4;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        color: var(--salon-gray);
        font-size: 1rem;
    }

    .carousel-placeholder i {
        font-size: 3rem;
        margin-bottom: 0.5rem;
    }
</style>
